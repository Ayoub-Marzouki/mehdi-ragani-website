<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Details</title>
    <link rel="stylesheet" th:href="@{/css/sharedstyle.css}">
    <link rel="stylesheet" th:href="@{/css/order-details.css}">
    <link rel="stylesheet" href="https://use.typekit.net/bpx8uhs.css">
</head>
<body th:replace="layouts/main-layout :: main-layout(~{::body/content()})">
    <div class="order-details-container">
        <header class="order-header">
            <h1>Order Details</h1>
            <a href="/account/orders" class="back-link">‚Üê Back to Orders</a>
        </header>

        <div class="order-content">
            <!-- Order Summary -->
            <section class="order-summary">
                <div class="summary-grid">
                    <div class="summary-item">
                        <strong>Order ID:</strong>
                        <span th:text="${order.id}">Order ID</span>
                    </div>
                    <div class="summary-item">
                        <strong>Order Date:</strong>
                        <span th:text="${#temporals.format(order.createdAt, 'dd/MM/yyyy HH:mm')}">Date</span>
                    </div>
                    <div class="summary-item">
                        <strong>Payment Status:</strong>
                        <span class="status-badge" th:class="${order.paymentStatus == 'Completed' ? 'status-completed' : order.paymentStatus == 'Pending' ? 'status-pending' : 'status-failed'}" th:text="${order.paymentStatus}">Status</span>
                    </div>
                    <div class="summary-item">
                        <strong>Order Status:</strong>
                        <span class="status-badge" th:class="${order.orderStatus == 'Confirmed' ? 'status-completed' : order.orderStatus == 'Pending' ? 'status-pending' : 'status-failed'}" th:text="${order.orderStatus}">Status</span>
                    </div>
                    <div class="summary-item" th:if="${order.paymentReference}">
                        <strong>Payment Reference:</strong>
                        <span th:text="${order.paymentReference}">Reference</span>
                    </div>
                </div>
            </section>

            <!-- Order Items -->
            <section class="order-items">
                <h2>Order Items (<span th:text="${order.items.size()}">0</span>)</h2>
                <div class="items-list">
                    <div th:each="item : ${order.items}" class="item-card">
                        <div class="item-image">
                            <img th:src="${item.artwork.mainImagePath}" th:alt="${item.artwork.title}">
                        </div>
                        <div class="item-details">
                            <h3 th:text="${item.artwork.title}">Artwork Title</h3>
                            <div class="item-info">
                                <p><strong>Dimensions:</strong> <span th:text="${item.artwork.width}">W</span> x <span th:text="${item.artwork.height}">H</span> cm</p>
                                <p><strong>Theme:</strong> <span th:text="${item.artwork.theme}">Theme</span></p>
                                <p><strong>Feel:</strong> <span th:text="${item.artwork.feel}">Feel</span></p>
                            </div>
                            <div class="item-pricing">
                                <p><strong>Quantity:</strong> <span th:text="${item.quantity}">1</span></p>
                                <p><strong>Unit Price:</strong> <span th:text="${#numbers.formatDecimal(item.artwork.price, 1, 2)} + ' ' + ${order.currency}">Price</span></p>
                                <p class="line-total"><strong>Line Total:</strong> <span th:text="${#numbers.formatDecimal(item.lineTotal, 1, 2)} + ' ' + ${order.currency}">Total</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Order Total -->
            <section class="order-total">
                <div class="total-card">
                    <h2>Order Summary</h2>
                    <div class="total-details">
                        <div class="total-row">
                            <span>Subtotal:</span>
                            <span th:text="${#numbers.formatDecimal(order.total, 1, 2)} + ' ' + ${order.currency}">Subtotal</span>
                        </div>
                        <div class="total-row">
                            <span>Shipping:</span>
                            <span>Included</span>
                        </div>
                        <div class="total-row total-final">
                            <strong>Total:</strong>
                            <strong th:text="${#numbers.formatDecimal(order.total, 1, 2)} + ' ' + ${order.currency}">Total</strong>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Actions -->
            <section class="order-actions">
                <div class="action-buttons">
                    <a href="/account/orders" class="btn btn-secondary">Back to Orders</a>
                    <a href="/store" class="btn">Continue Shopping</a>
                    <a href="/account" class="btn btn-secondary">My Account</a>
                </div>
            </section>
        </div>
    </div>
</body>
</html> 